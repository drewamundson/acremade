{%- assign section_color = section.settings.color_scheme -%}

<section class="page section-with-padding color--{{ section_color }}-text pb0 relative">

  {% if section.settings.highlight_graphic %}
    <img class="graphic absolute" src="{{ section.settings.highlight_graphic | img_url: '600x' }}" alt="{{ section.settings.highlight_graphic.alt }}" />
  {% endif %}

  <div class="max-site-width px2 lg--up--px3 pb3 pt2">
      <div class="lg--up--four-fifths md--up--pr2 wh-text">
        <div class="md--up--pr2">
        <div class="md--up--pr2">
          <div class="hl-heading m0 f--heading font-weight-normal font-size--xxl line-height--7 pm--font-size--xxxxl  md--up--font-size--xxxxxl pm--line-height--11 wd--font-size--xxxxxxl wd--line-height--13">
            Free from the things that 
            <strong><span class="underline"><span style="position:relative;z-index:1;">take</span></span></strong><strong><span class="underline"><span style="position:relative;z-index:1;">the</span></span></strong><strong><span class="underline"><span style="position:relative;z-index:1;">satisfaction</span></span></strong><strong><span class="underline"><span style="position:relative;z-index:1;">out</span></span></strong><strong><span class="underline"><span style="position:relative;z-index:1;">of</span></span></strong><strong><span class="underline"><span style="position:relative;z-index:1;">eating</span></span></strong><strong><span class="underline"><span style="position:relative;z-index:1;">well.</span></span></strong>
          </div>
          </div>
        </div>
      </div>
  </div>
      
  {%- if section.blocks.size > 0 -%}
    <div class="color-block bg--{{ section_color }}-background"> 
      <div class="max-site-width px2 lg--up--px3">
        <div class="lg--up--one-whole lg--up--mt3 lg--up--pt3 lg--up--pb2 relative wh-text-n">
          <ul class="flex flex--wrap px1 py1 lg--up--p2 m0 flex--wrap">
            {%- for block in section.blocks -%}
              {%- assign hl = block.settings.highlight -%}
              {%- if hl != blank -%}
                <li class="highlight-item one-whole lg--up--one-third pr4 md--dn--pr2 mb2">
                  {{ hl }}
                </li>
              {%- endif -%}
            {%- endfor -%}
          </ul>
        </div>
      </div>
    </div>
  {%- endif -%}
  
</section>

{% schema %}
{
  "name": "About Highlights",
  "settings": [
    {
      "type":      "header",
      "content":   "Color"
    },
    {
       "type": "select",
       "id": "color_scheme",
       "label": "Color scheme",
       "options": [
          { "value": "primary", "label": "Primary"},
          { "value": "secondary", "label": "Secondary"},
          { "value": "tertiary", "label": "Tertiary"}
       ]
    },
    {
      "type": "header",
      "content": "Header text"
    },
    {
      "type": "textarea",
      "id": "highlight_heading",
      "label": "Heading"
    },
    {
      "type": "image_picker",
      "id": "highlight_graphic",
      "label": "Graphic"
    }
  ],
  "blocks": [
    {
      "type": "highlight",
      "name": "Highlight",
      "settings": [
        {
          "type": "richtext",
          "id": "highlight",
          "label": "Highlight text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "About Highlights",
      "category": "About Page",
      "blocks": [
        { 
          "type": "highlight"
        }
      ]
    }
  ]  
}
{% endschema %}

{% stylesheet %} 
  .hl-heading { 
    font-weight: normal;
    text-transform: none; 
  }
  .hl-heading strong {
    font-weight: var(--heading-font-weight);
  }
  .highlight-item {
    font-family: var(--heading-font-stack);
  }
  .highlight-item strong {
    font-family: var(--heading-font-stack);
    font-weight: var(--heading-font-weight);
    font-style: var(--heading-font-style);
    margin: 0 5px 0 0; 
    line-height: 1.4;
    overflow-wrap: break-word;
    word-wrap: break-word;
  }
  .graphic { 
    right: 0; 
    top: 42%;
    transform: translateY(-50%);
    width: 22%; 
  }    
  .underline {
    position: relative;
    z-index: 1; 
    padding-right: .24em;  
  }
  .underline:after {
    content: '';
    width: 100%;
    height: 60%;
    position: absolute; 
    bottom: 0;
    left: 0; 
    z-index: 0;
    background: rgb(224, 193, 63);
  }
{% endstylesheet %}